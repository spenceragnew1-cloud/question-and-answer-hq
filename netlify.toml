[build]
  command = "npm run build"
  publish = ".next"

[[plugins]]
  package = "@netlify/plugin-nextjs"

[build.environment]
  NODE_VERSION = "20"

# Function configuration for longer-running operations
[functions."_api_cron_generate-questions"]
  timeout = 26  # Maximum timeout for Netlify (26 seconds)

# Also configure for the Next.js handler
[functions."___netlify-handler"]
  timeout = 26

# Redirects for old/changed question slugs
[[redirects]]
  from = "/questions/effective-strategies-to-stop-procrastination"
  to = "/questions/science-backed-strategies-overcome-procrastination"
  status = 301

[[redirects]]
  from = "/questions/effective-strategies-to-overcome-procrastination"
  to = "/questions/science-backed-strategies-overcome-procrastination"
  status = 301

[[redirects]]
  from = "/questions/can-journaling-reduce-anxiety-levels"
  to = "/questions/does-journaling-help-reduce-anxiety"
  status = 301

[[redirects]]
  from = "/questions/can-journaling-reduce-anxiety-symptoms"
  to = "/questions/does-journaling-help-reduce-anxiety"
  status = 301

[[redirects]]
  from = "/questions/health-benefits-of-morning-cold-showers"
  to = "/questions/health-benefits-cold-shower-morning"
  status = 301

[[redirects]]
  from = "/questions/health-benefits-cold-showers"
  to = "/questions/health-benefits-cold-shower-morning"
  status = 301

